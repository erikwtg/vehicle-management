<div class="bg-white rounded-lg shadow-md p-6">
  <div class="mb-6">
    <h2 class="text-2xl font-bold text-gray-900 mb-2">
      {{ isEditing ? 'Editar Veículo' : 'Cadastrar Novo Veículo' }}
    </h2>
    <p class="text-gray-600">
      {{
        isEditing
          ? 'Atualize as informações do veículo'
          : 'Preencha os dados do veículo para cadastro'
      }}
    </p>
  </div>

  <form (ngSubmit)="onSubmit()" #vehicleForm="ngForm" class="space-y-6">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label
          for="plate"
          class="block text-sm font-medium text-gray-700 mb-2 transition-colors duration-200 after:content-['_*'] after:text-red-500"
        >
          Placa
        </label>
        <input
          type="text"
          id="plate"
          name="plate"
          [(ngModel)]="formData.plate"
          (input)="onPlateInput($event)"
          placeholder="ABC1234"
          maxlength="7"
          class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ease-in-out focus:scale-[1.02] placeholder:text-gray-400 placeholder:italic"
          [class.border-red-500]="errors['plate']"
          [class.bg-red-50]="errors['plate']"
          [class.animate-[shake_0.5s_ease-in-out]]="errors['plate']"
          [class.border-green-500]="!errors['plate'] && formData.plate"
          [class.bg-green-50]="!errors['plate'] && formData.plate"
          required
        />
        <p
          *ngIf="errors['plate']"
          class="mt-1 text-sm text-red-600 animate-[fadeInUp_0.3s_ease-out]"
        >
          {{ errors['plate'] }}
        </p>
      </div>

      <div>
        <label
          for="chassis"
          class="block text-sm font-medium text-gray-700 mb-2 transition-colors duration-200 after:content-['_*'] after:text-red-500"
        >
          Chassi
        </label>
        <input
          type="text"
          id="chassis"
          name="chassis"
          [(ngModel)]="formData.chassis"
          (input)="onChassisInput($event)"
          placeholder="17 caracteres"
          maxlength="17"
          class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ease-in-out focus:scale-[1.02] placeholder:text-gray-400 placeholder:italic"
          [class.border-red-500]="errors['chassis']"
          [class.bg-red-50]="errors['chassis']"
          [class.animate-[shake_0.5s_ease-in-out]]="errors['chassis']"
          [class.border-green-500]="!errors['chassis'] && formData.chassis"
          [class.bg-green-50]="!errors['chassis'] && formData.chassis"
          required
        />
        <p
          *ngIf="errors['chassis']"
          class="mt-1 text-sm text-red-600 animate-[fadeInUp_0.3s_ease-out]"
        >
          {{ errors['chassis'] }}
        </p>
      </div>

      <div>
        <label
          for="renavam"
          class="block text-sm font-medium text-gray-700 mb-2 transition-colors duration-200 after:content-['_*'] after:text-red-500"
        >
          Renavam
        </label>
        <input
          type="text"
          id="renavam"
          name="renavam"
          [(ngModel)]="formData.reindeer"
          (input)="onRenavamInput($event)"
          placeholder="123456789"
          maxlength="11"
          class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ease-in-out focus:scale-[1.02] placeholder:text-gray-400 placeholder:italic"
          [class.border-red-500]="errors['renavam']"
          [class.bg-red-50]="errors['renavam']"
          [class.animate-[shake_0.5s_ease-in-out]]="errors['renavam']"
          [class.border-green-500]="!errors['renavam'] && formData.reindeer"
          [class.bg-green-50]="!errors['renavam'] && formData.reindeer"
          required
        />
        <p
          *ngIf="errors['renavam']"
          class="mt-1 text-sm text-red-600 animate-[fadeInUp_0.3s_ease-out]"
        >
          {{ errors['renavam'] }}
        </p>
      </div>

      <div>
        <label
          for="model"
          class="block text-sm font-medium text-gray-700 mb-2 transition-colors duration-200 after:content-['_*'] after:text-red-500"
        >
          Modelo
        </label>
        <input
          type="text"
          id="model"
          name="model"
          [(ngModel)]="formData.model"
          placeholder="Ex: Civic, Corolla, Gol"
          class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ease-in-out focus:scale-[1.02] placeholder:text-gray-400 placeholder:italic"
          [class.border-red-500]="errors['model']"
          [class.bg-red-50]="errors['model']"
          [class.animate-[shake_0.5s_ease-in-out]]="errors['model']"
          [class.border-green-500]="!errors['model'] && formData.model"
          [class.bg-green-50]="!errors['model'] && formData.model"
          required
        />
        <p
          *ngIf="errors['model']"
          class="mt-1 text-sm text-red-600 animate-[fadeInUp_0.3s_ease-out]"
        >
          {{ errors['model'] }}
        </p>
      </div>

      <div>
        <label
          for="brand"
          class="block text-sm font-medium text-gray-700 mb-2 transition-colors duration-200 after:content-['_*'] after:text-red-500"
        >
          Marca
        </label>
        <input
          type="text"
          id="brand"
          name="brand"
          [(ngModel)]="formData.brand"
          placeholder="Ex: Honda, Toyota, Volkswagen"
          class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ease-in-out focus:scale-[1.02] placeholder:text-gray-400 placeholder:italic"
          [class.border-red-500]="errors['brand']"
          [class.bg-red-50]="errors['brand']"
          [class.animate-[shake_0.5s_ease-in-out]]="errors['brand']"
          [class.border-green-500]="!errors['brand'] && formData.brand"
          [class.bg-green-50]="!errors['brand'] && formData.brand"
          required
        />
        <p
          *ngIf="errors['brand']"
          class="mt-1 text-sm text-red-600 animate-[fadeInUp_0.3s_ease-out]"
        >
          {{ errors['brand'] }}
        </p>
      </div>

      <div>
        <label
          for="year"
          class="block text-sm font-medium text-gray-700 mb-2 transition-colors duration-200 after:content-['_*'] after:text-red-500"
        >
          Ano
        </label>
        <input
          type="number"
          id="year"
          name="year"
          [(ngModel)]="formData.year"
          [min]="1900"
          [max]="2025"
          placeholder="2024"
          class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ease-in-out focus:scale-[1.02] placeholder:text-gray-400 placeholder:italic"
          [class.border-red-500]="errors['year']"
          [class.bg-red-50]="errors['year']"
          [class.animate-[shake_0.5s_ease-in-out]]="errors['year']"
          [class.border-green-500]="!errors['year'] && formData.year"
          [class.bg-green-50]="!errors['year'] && formData.year"
          required
        />
        <p
          *ngIf="errors['year']"
          class="mt-1 text-sm text-red-600 animate-[fadeInUp_0.3s_ease-out]"
        >
          {{ errors['year'] }}
        </p>
      </div>
    </div>

    <div class="flex flex-col sm:flex-row gap-3 pt-6 border-t border-gray-200">
      <button
        type="submit"
        [disabled]="isSubmitting"
        class="flex-1 sm:flex-none px-6 py-3 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 ease-in-out hover:transform hover:-translate-y-1 hover:shadow-lg active:transform active:translate-y-0"
      >
        <span *ngIf="!isSubmitting" class="flex items-center justify-center">
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M5 13l4 4L19 7"
            ></path>
          </svg>
          {{ isEditing ? 'Atualizar' : 'Cadastrar' }}
        </span>
        <span *ngIf="isSubmitting" class="flex items-center justify-center">
          <svg
            class="animate-spin -ml-1 mr-3 h-5 w-5 text-white"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
          >
            <circle
              class="opacity-25"
              cx="12"
              cy="12"
              r="10"
              stroke="currentColor"
              stroke-width="4"
            ></circle>
            <path
              class="opacity-75"
              fill="currentColor"
              d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
            ></path>
          </svg>
          {{ isEditing ? 'Atualizando...' : 'Cadastrando...' }}
        </span>
      </button>

      <button
        type="button"
        (click)="onCancel()"
        [disabled]="isSubmitting"
        class="flex-1 sm:flex-none px-6 py-3 bg-gray-200 text-gray-800 font-medium rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 ease-in-out hover:transform hover:-translate-y-1 hover:shadow-md"
      >
        <span class="flex items-center justify-center">
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            ></path>
          </svg>
          Cancelar
        </span>
      </button>
    </div>
  </form>
</div>
